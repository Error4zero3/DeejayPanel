function calculateNavigationHeight(){var e=$("#navigation"),t=$(window),n=100;$(".navi-functions").length==0&&(n=45);e.css({height:t.height()-n})}function hideNav(){var e=$(".mainNav"),t=$("#navigation"),n=$("#main"),r=$(".navi-functions");n.toggleClass("hiddenNav");t.toggleClass("hidden");e.getNiceScroll().resize();r.toggleClass("hidden");if(n.hasClass("hiddenNav")){var i='<div class="showNav"><a href="#" rel="tooltip" title="Show navigation" data-placement="right" class="button button-basic button-icon"><i class="icon-arrow-right"></i></a></div>';if($(".showNav").length==0){$("#content").prepend(i);$(".showNav").bind("click",function(){hideNav()})}$(".showNav").show()}else $(".showNav").hide()}function collapsedNav(){var e=$(".mainNav"),t=$(".collapse-me");if($(window).width()<=986){if($(".col-nav").length==0){t.hide().after("<select class='col-nav'></select>");var n=$(".col-nav");e.find(">li").each(function(){var e=$(this).find(">a"),t=$(this).find(".subnav"),r="";if(t.length>0){var i="";t.find(">li").each(function(){var e=$(this).find(">a");$(this).hasClass("active")&&(r="selected='selected' ");i+="<option "+r+"value='"+e.attr("href")+"'> - "+e.html()+"</option>"});n.append("<optgroup label='"+e.find("span").html()+"'>"+i+"</optgroup>")}else{$(this).hasClass("active")&&(r="selected='selected' ");n.append("<option "+r+"value='"+e.attr("href")+"'>"+e.find("span").html()+"</option>")}});n.bind("change",function(e){var t;e||(e=window.event);e.target?t=e.target:e.srcElement&&(t=e.srcElement);t.nodeType===3&&(t=t.parentNode);t.value&&(window.location.href=t.value)})}}else{$(".col-nav").remove();t.show()}}function toggleFixedLayoutNav(){var e=$(".layout-not-fixed"),t=$("#navigation");if(e.hasClass("button-active")){var n;$(".layout-not-fluid").hasClass("button-active")?n=40:n=0;t.css({position:"absolute",top:n,height:"auto",left:0});t.getNiceScroll().resize().hide();$("#top").css("position","relative").removeClass("navbar-fixed-top");$("#content").css("padding-top",n+"px");e.find(".icon-lock").removeClass("icon-lock").addClass("icon-unlock")}else{var r=$("#main").offset();t.css({position:"fixed",top:"40px",left:r.left});calculateNavigationHeight();t.niceScroll({cursorborder:0,cursorcolor:"#555",railoffset:{top:0,left:-2}});t.getNiceScroll().resize().show();$("#top").css("position","fixed").addClass("navbar-fixed-top");$("#content").css("padding-top","40px");e.find(".icon-unlock").removeClass("icon-unlock").addClass("icon-lock")}e.toggleClass("button-active")}function toggleFixedLayout(){var e=$("#top"),t=$("#main"),n=$("#navigation"),r=$("#content"),i=$(".navi-functions"),s=$(".layout-not-fluid");t.toggleClass("fixed-layout");n.toggleClass("fixed-layout");i.toggleClass("fixed-layout");e.find(".container-fluid,.container").toggleClass("container-fluid").toggleClass("container");s.toggleClass("button-active");var o=t.offset(),u=o.left,e=40;$(".layout-not-fixed").hasClass("button-active")||(u=0);!$(".layout-not-fixed").hasClass("button-active")&&!s.hasClass("button-active")&&(e=0);n.css({left:u,top:e});r.css("padding-top",e)}function setNaviToBottom(){}function hideAllSubNavs(){$(".mainNav").find(".open > .subnav").slideUp(300,"swing",function(){$("#navigation").getNiceScroll().resize()}).parent().removeClass("open")}$(document).ready(function(){var e=!1,t=!0;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(e=!0);$(".mainNav > li > a").click(function(e){var t=$(this),n=$(this).parent(),r=$(this).parents(".mainNav"),i=$("#navigation");if(n.find(".subnav").length>0){e.preventDefault();var s=n.find(".subnav");if(n.hasClass("open")){s.slideUp(300,"swing",function(){$("#navigation").getNiceScroll().resize()});n.removeClass("open")}else{r.attr("data-open-subnavs")=="single"&&hideAllSubNavs();s.slideDown(300,"swing",function(){$("#navigation").getNiceScroll().resize()});n.addClass("open")}}});$(".tasklist > li").click(function(e){var t=$(this),n=$(this).find("input[type=checkbox]").first();t.toggleClass("done");e.target.nodeName=="LABEL"&&e.preventDefault();e.target.nodeName!="INPUT"&&n.prop("checked",!n.prop("checked"))});$(".tasklist > li > .task-actions > a").click(function(e){var t=$(this),n=$(this).parents("li"),r=$(this).parents("ul");console.log("action of task clicked");e.stopPropagation();n.toggleClass("bookmarked");n.hasClass("bookmarked")?n.fadeOut(400,function(){n.prependTo(r).fadeIn()}):r.find(".bookmarked").length>0?n.fadeOut(400,function(){n.insertAfter(r.find(".bookmarked").last()).fadeIn()}):n.fadeOut(400,function(){n.prependTo(r).fadeIn()})});if($(".layout-not-fixed").hasClass("button-active")){calculateNavigationHeight();$("#navigation").niceScroll({cursorborder:0,cursorcolor:"#555",railoffset:{top:0,left:-2},horizrailenabled:!1})}$(".layout-not-fixed").click(function(e){toggleFixedLayoutNav();e.preventDefault();e.stopPropagation()});$(".layout-not-fluid").click(function(e){toggleFixedLayout();e.preventDefault();e.stopPropagation()});$(".layout-no-nav").click(function(n){hideNav();n.preventDefault();n.stopPropagation();t&&(e||$("[rel=tooltip]").tooltip())});$(".search .dropdown-menu > li").not(".sort-by, .heading").click(function(e){e.preventDefault();e.stopPropagation();var t=$(this),n=t.parents(".dropdown-menu"),r=n.find(".sort-by .filter"),i=n.find(".sort-by .order");if(t.hasClass("order")){n.find(".order.active").removeClass("active");$.trim(t.text())=="Descending"?i.html("Z-A"):i.html("A-Z")}else{n.find(".filter.active").removeClass("active");var s=$.trim(t.html());r.html(s)}t.toggleClass("active")});$(".gallery-dynamic").length>0&&$(".gallery-dynamic").imagesLoaded(function(){var e=$(this);e.masonry()});setNaviToBottom();$("body").attr("data-layout-width")=="fixed"&&toggleFixedLayout();$("body").attr("data-layout")=="fixed"&&toggleFixedLayoutNav();collapsedNav();$(".accordion").on("hide",function(e){var t=$(this),n=$(e.target).parents(".accordion-group");n.find(".accordion-toggle").addClass("collapsed")}).on("show",function(e){var t=$(this),n=$(e.target).parents(".accordion-group");n.find(".accordion-toggle").removeClass("collapsed")});$("[rel=popover]").popover();$(".ckeditor").length>0&&CKEDITOR.replace("ck")});$(window).scroll(function(){setNaviToBottom()});$(window).resize(function(){$(".layout-not-fixed").hasClass("button-active")&&calculateNavigationHeight();$("#navigation").getNiceScroll().resize();if(!$(".layout-not-fluid").hasClass("button-active")&&$(window).width()<=1200){toggleFixedLayout();$(".layout-not-fluid").addClass("forced")}if($(window).width()>=1201&&$(".layout-not-fluid").hasClass("forced")){toggleFixedLayout();$(".layout-not-fluid").removeClass("forced")}setNaviToBottom();collapsedNav()});